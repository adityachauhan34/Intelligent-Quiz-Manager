{% extends "base.html" %}

{% block title %}Admin Dashboard{% endblock %}

{% block content %}
<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <div class="mb-8">
        <h1 class="text-3xl font-bold text-gray-900">Admin Dashboard</h1>
        <p class="text-gray-600 mt-2">Manage quizzes, categories, and users.</p>
    </div>
    
    <div class="grid md:grid-cols-4 gap-6 mb-12">
        <div class="bg-white rounded-xl shadow-sm p-6">
            <div class="flex items-center">
                <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mr-4">
                    <i data-feather="users" class="w-6 h-6 text-blue-600"></i>
                </div>
                <div>
                    <p class="text-sm text-gray-600">Total Users</p>
                    <p class="text-2xl font-bold text-gray-900">{{ total_users }}</p>
                </div>
            </div>
        </div>
        
        <div class="bg-white rounded-xl shadow-sm p-6">
            <div class="flex items-center">
                <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mr-4">
                    <i data-feather="folder" class="w-6 h-6 text-green-600"></i>
                </div>
                <div>
                    <p class="text-sm text-gray-600">Categories</p>
                    <p class="text-2xl font-bold text-gray-900">{{ total_categories }}</p>
                </div>
            </div>
        </div>
        
        <div class="bg-white rounded-xl shadow-sm p-6">
            <div class="flex items-center">
                <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mr-4">
                    <i data-feather="help-circle" class="w-6 h-6 text-purple-600"></i>
                </div>
                <div>
                    <p class="text-sm text-gray-600">Total Quizzes</p>
                    <p class="text-2xl font-bold text-gray-900">{{ total_quizzes }}</p>
                </div>
            </div>
        </div>
        
        <div class="bg-white rounded-xl shadow-sm p-6">
            <div class="flex items-center">
                <div class="w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center mr-4">
                    <i data-feather="check-circle" class="w-6 h-6 text-orange-600"></i>
                </div>
                <div>
                    <p class="text-sm text-gray-600">Completed Attempts</p>
                    <p class="text-2xl font-bold text-gray-900">{{ total_attempts }}</p>
                </div>
            </div>
        </div>
    </div>
    
    <div class="grid md:grid-cols-3 gap-6 mb-8">
        <a href="{% url 'quiz:admin_users' %}" class="bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 hover:shadow-lg transition">
            <div class="flex items-center">
                <div class="w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center mr-4">
                    <i data-feather="users" class="w-6 h-6 text-blue-600 dark:text-blue-400"></i>
                </div>
                <div>
                    <p class="font-semibold text-gray-900 dark:text-white">Manage Users</p>
                    <p class="text-sm text-gray-600 dark:text-gray-400">View and manage user accounts</p>
                </div>
            </div>
        </a>
        
        <a href="{% url 'quiz:admin_categories' %}" class="bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 hover:shadow-lg transition">
            <div class="flex items-center">
                <div class="w-12 h-12 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center mr-4">
                    <i data-feather="folder" class="w-6 h-6 text-green-600 dark:text-green-400"></i>
                </div>
                <div>
                    <p class="font-semibold text-gray-900 dark:text-white">Manage Categories</p>
                    <p class="text-sm text-gray-600 dark:text-gray-400">Add, edit, or remove categories</p>
                </div>
            </div>
        </a>
        
        <a href="{% url 'quiz:admin_subcategories' %}" class="bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 hover:shadow-lg transition">
            <div class="flex items-center">
                <div class="w-12 h-12 bg-purple-100 dark:bg-purple-900 rounded-lg flex items-center justify-center mr-4">
                    <i data-feather="layers" class="w-6 h-6 text-purple-600 dark:text-purple-400"></i>
                </div>
                <div>
                    <p class="font-semibold text-gray-900 dark:text-white">Manage Subcategories</p>
                    <p class="text-sm text-gray-600 dark:text-gray-400">Add, edit, or remove subcategories</p>
                </div>
            </div>
        </a>
        
        <a href="{% url 'quiz:admin_quizzes' %}" class="bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 hover:shadow-lg transition">
            <div class="flex items-center">
                <div class="w-12 h-12 bg-indigo-100 dark:bg-indigo-900 rounded-lg flex items-center justify-center mr-4">
                    <i data-feather="help-circle" class="w-6 h-6 text-indigo-600 dark:text-indigo-400"></i>
                </div>
                <div>
                    <p class="font-semibold text-gray-900 dark:text-white">Manage Quizzes</p>
                    <p class="text-sm text-gray-600 dark:text-gray-400">View and delete generated quizzes</p>
                </div>
            </div>
        </a>
        
        <a href="{% url 'quiz:admin_attempts' %}" class="bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 hover:shadow-lg transition">
            <div class="flex items-center">
                <div class="w-12 h-12 bg-orange-100 dark:bg-orange-900 rounded-lg flex items-center justify-center mr-4">
                    <i data-feather="activity" class="w-6 h-6 text-orange-600 dark:text-orange-400"></i>
                </div>
                <div>
                    <p class="font-semibold text-gray-900 dark:text-white">Manage Attempts</p>
                    <p class="text-sm text-gray-600 dark:text-gray-400">View user quiz attempts</p>
                </div>
            </div>
        </a>
    </div>
    
    <div class="bg-white rounded-xl shadow-sm p-6">
        <h2 class="text-xl font-semibold text-gray-900 mb-4">Recent Users</h2>
        <div class="overflow-x-auto">
            <table class="w-full">
                <thead class="bg-gray-50">
                    <tr>
                        <th class="px-4 py-3 text-left text-sm font-medium text-gray-600">Username</th>
                        <th class="px-4 py-3 text-left text-sm font-medium text-gray-600">Email</th>
                        <th class="px-4 py-3 text-left text-sm font-medium text-gray-600">Joined</th>
                    </tr>
                </thead>
                <tbody class="divide-y divide-gray-200">
                    {% for u in recent_users %}
                    <tr>
                        <td class="px-4 py-3 text-gray-900">{{ u.get_full_name|default:u.username }}</td>
                        <td class="px-4 py-3 text-gray-600">{{ u.email }}</td>
                        <td class="px-4 py-3 text-gray-600">{{ u.date_joined|date:"M d, Y" }}</td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="3" class="px-4 py-8 text-center text-gray-600">No users yet.</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}
